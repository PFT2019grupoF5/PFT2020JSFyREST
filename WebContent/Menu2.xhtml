<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<script name="jquery/jquery.js" library="primefaces"></script>
</h:head>

<h:body>
	<p:growl id="mensajes" showDetail="true" life="2000" />
 	
 		<h2>Log in:</h2>
			<h:form id="loginForm">
			    <h:panelGrid columns="3">
			      Usuario:
			      <h:inputText id="usuario" value="#{usuarioB.nomAcceso}" required="true" label="usuario" styleClass="form-control"/>
			      <h:message for="usuario" styleClass="text-danger"/>
			      Contrase単a:
			      <h:inputSecret id="contrase単a" value="#{usuarioB.contrasena}" required="true" label="contrase単a" styleClass="form-control"/>
			      <h:message for="contrase単a" styleClass="text-danger"/>
	  	
	  			 <f:facet name="footer">
	  				<p:commandButton value="LogIn" 
	  							 actionListener="#{usuarioB.getUsuarioLoged}" update=":mensajes" 
                                 oncomplete="manejarLogin(xhr, status, args)" />
	  			    <!--  <f:param id="usu" name="usuario" value="#{usuarioB.nomAcceso}"/>
            		<f:param id="contra" name="contra" value="#{usuarioB.contrasena}"/>
            		 
	  				</p:commandButton>
	  		-->
	  			</f:facet>	
			    </h:panelGrid>
  </h:form>

</h:body>

<script type="text/javascript">
  function manejarLogin(xhr, status, args) {
    if (!args.validationFailed) {
      setTimeout(function() {
        window.location = args.view;
      }, 500);
    }
  }
</script>

</html>